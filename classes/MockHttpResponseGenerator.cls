@isTest
global  class MockHttpResponseGenerator implements HttpCalloutMock
{
    global  HTTPResponse respond(HTTPRequest req) 
    {   
        HttpResponse res = new HttpResponse();
        
        system.debug(req.getBody()+'req.getBody()req.getBody()req.getBody()req.getBody()req.getBody()req.getBody()');

        if(req.getBody().contains('<ser:getEntitlementProducts>')){

            String response='<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soapenv:Body><getEntitlementProductsResponse xmlns="http://service.intactws.internal.mathworks.com"><getEntitlementProductsReturn><content>{"entitlementReleaseBean":[{"passcodeVersionNumber":29,"shippedDate":"2013-03-07","name":"R2013a","products":{"entitlementProductBean":[{"productId":103,"productName":"MATLAB","productBaseCode":"ML","licenseOption":null,"licenseTerm":null,"licenseUse":null,"productOfferingLicenseTermId":null,"bitNumber":"1","seatQty":"1","defaultLicenseFileExpirationDate":"2014-11-05","productSmsEndDate":""},{"productId":2044,"productName":"Data Acquisition Toolbox","productBaseCode":"DA","licenseOption":null,"licenseTerm":null,"licenseUse":null,"productOfferingLicenseTermId":null,"bitNumber":"47","seatQty":"1","defaultLicenseFileExpirationDate":"2014-11-05","productSmsEndDate":""}]},"fik":"53755-17338-62735-09570"}]}</content><messages /><result>0</result></getEntitlementProductsReturn></getEntitlementProductsResponse></soapenv:Body></soapenv:Envelope>';
            res.setHeader('Content-Type', 'application/soap+xml');
            res.setBody(response);

           }else if(req.getBody().contains('<ser:getEntitlements>')){

            String response='<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soapenv:Body><getEntitlementsResponse xmlns="http://service.intactws.internal.mathworks.com"><getEntitlementsReturn><content>{"summaryCount":4,"entitlementBean":[{"id":"1930281","accessToActivationKeyDefault":"true","accessToDownloadsDefault":"true","accessToLoginNamedUserDefault":"false","accessToMatlabOnTheWebDefault":"false","activatable":true,"activationsRemaining":21,"activationTypeId":"187","activationType":"Designated Computer","displayLabel":"Trial - Designated Computer","allProductFIKApproval":false,"multipleReleaseLicenseFile":false,"allowActivationTypeUpdate":false,"computerRedesignationsRemaining":0,"computeLocationTypeId":1246,"computeLocation":"Desktop","controllingProduct":"ML","controllingProductSmsEndDate":"","countryCode":"","createdById":"fgorelik","createdDateTime":"2014-10-06 10:48:32","currentActivationKey":"","customerReleaseOverride":null,"distributorFirstName":"","distributorLastName":"","entitlementPolicyBean":{"id":"34","policyName":"Third Party Partner Training - TSUR","allowedActivationCount":"21","allowedAnnualMachineTransferCount":"0","allowedAnnualUserTransferCount":"99999","allowedAnnualProductTransferCount":"0","licensedEndUserRequired":"true","validationDefault":false,"validationDefaultOverridable":false,"licenseFileExpirationOverrideAllowed":false,"dcProcessCheckRequired":false,"maxLicensedEndUsers":"1","validationIntervalDays":30,"disassociateSetting":"None","associateByLicenseNumber":true,"leuSynchronizationRequired":false,"allowedSimultaneousSessionCount":0,"licenseManagementTypeUpdatable":false,"simultaneousMachineCountPerLeu":0,"profileAssociationType":"StudentAndProfessional","userLoginNameRequired":false,"displayStudentReminder":false,"autoAssociateLeu":false,"activateForOther":true,"accessToDownloadOnly":true,"emailDomain":"NotApplicable"},"entitlementStatusTypeId":"183","entitlementStatus":"Active Activation - Valid and has potential for use","entitlementTypeId":"288","entitlementType":"Temporary Software Usage Right","expirationDateOverridable":"false","firstActivationDate":"","groupLicenseId":"0","lastUpdatedById":"fgorelik","lastUpdatedDateTime":"2014-10-06 10:48:34","licenseNumber":"0","licenseDongleRequired":"false","licenseFileDefinitionId":"1","licenseFileDefinitionName":"Designated Computer","licenseFileExpirationOverrideDate":"","licenseFileExpirationDate":"","licenseOption":null,"licenseOptionDescription":"","licenseTerm":null,"licenseTermDescription":"","licenseUse":null,"licenseUseDescription":"","loginNamedUserAvailable":null,"mutable":"false","officeId":0,"opportunityId":"006e0000006sI50AAE","people":{"entitlementPersonBean":[]},"activationKeys":{"activationKeyBean":[]},"releases":{"entitlementReleaseBean":[{"passcodeVersionNumber":28,"shippedDate":"2012-09-11","name":"R2012b","products":{"entitlementProductBean":[]},"fik":"41429-46617-45990-34262-20441-52569-49243"}]},"sector":"","trialExtensionCount":0,"trialReminder":"false","tsurType":"Trial","tsurTypeId":313,"tsurSubType":"3rd Party Training (Sales)","tsurSubTypeId":404,"tsurReleaseId":null,"tsurInitialExpirationDate":"2014-12-05","tsurExtendTrialHistory":{"tsurExtendTrialHistoryBean":[]},"userDefinedLabel":"Multiple Products for pagination testing","userRedesignationsRemaining":99999,"validationSetting":false,"validating":true,"licensedEntitlementSubTypeId":985,"licensedEntitlementSubType":"Default","auditInformation":null,"isNetwork":false,"personEntitlementId":1930281,"rollupEntitlementId":0,"licenseManagerType":"FLEX","licenseManagerTypeId":1720,"onDemand":{"status":"Disabled","statusId":1724,"mwAllowed":false,"customerOptIn":false,"entitlementEligible":false,"creditCardEligible":false,"userAccessDefault":false},"lockingTypes":{"lockingType":[{"name":{},"displayLabel":"Trial - Designated Computer","properties":{"property":["fileBased"]}}]}},{"id":"1930043","accessToActivationKeyDefault":"true","accessToDownloadsDefault":"true","accessToLoginNamedUserDefault":"false","accessToMatlabOnTheWebDefault":"false","activatable":true,"activationsRemaining":21,"activationTypeId":"187","activationType":"Designated Computer","displayLabel":"Trial - Designated Computer","allProductFIKApproval":false,"multipleReleaseLicenseFile":false,"allowActivationTypeUpdate":false,"computerRedesignationsRemaining":0,"computeLocationTypeId":1246,"computeLocation":"Desktop","controllingProduct":"ML","controllingProductSmsEndDate":"","countryCode":"","createdById":"fgorelik","createdDateTime":"2014-10-02 10:32:41","currentActivationKey":"","customerReleaseOverride":null,"distributorFirstName":"","distributorLastName":"","entitlementPolicyBean":{"id":"34","policyName":"Third Party Partner Training - TSUR","allowedActivationCount":"21","allowedAnnualMachineTransferCount":"0","allowedAnnualUserTransferCount":"99999","allowedAnnualProductTransferCount":"0","licensedEndUserRequired":"true","validationDefault":false,"validationDefaultOverridable":false,"licenseFileExpirationOverrideAllowed":false,"dcProcessCheckRequired":false,"maxLicensedEndUsers":"1","validationIntervalDays":30,"disassociateSetting":"None","associateByLicenseNumber":true,"leuSynchronizationRequired":false,"allowedSimultaneousSessionCount":0,"licenseManagementTypeUpdatable":false,"simultaneousMachineCountPerLeu":0,"profileAssociationType":"StudentAndProfessional","userLoginNameRequired":false,"displayStudentReminder":false,"autoAssociateLeu":false,"activateForOther":true,"accessToDownloadOnly":true,"emailDomain":"NotApplicable"},"entitlementStatusTypeId":"183","entitlementStatus":"Active Activation - Valid and has potential for use","entitlementTypeId":"288","entitlementType":"Temporary Software Usage Right","expirationDateOverridable":"false","firstActivationDate":"","groupLicenseId":"0","lastUpdatedById":"fgorelik","lastUpdatedDateTime":"2014-10-02 10:32:43","licenseNumber":"0","licenseDongleRequired":"false","licenseFileDefinitionId":"1","licenseFileDefinitionName":"Designated Computer","licenseFileExpirationOverrideDate":"","licenseFileExpirationDate":"","licenseOption":null,"licenseOptionDescription":"","licenseTerm":null,"licenseTermDescription":"","licenseUse":null,"licenseUseDescription":"","loginNamedUserAvailable":null,"mutable":"false","officeId":0,"opportunityId":"006e0000006sI50AAE","people":{"entitlementPersonBean":[]},"activationKeys":{"activationKeyBean":[]},"releases":{"entitlementReleaseBean":[{"passcodeVersionNumber":26,"shippedDate":"2011-09-01","name":"R2011b","products":{"entitlementProductBean":[]},"fik":"40483-31709-60651-23051"}]},"sector":"","trialExtensionCount":0,"trialReminder":"false","tsurType":"Trial","tsurTypeId":313,"tsurSubType":"3rd Party Training (Partner)","tsurSubTypeId":399,"tsurReleaseId":null,"tsurInitialExpirationDate":"2015-10-02","tsurExtendTrialHistory":{"tsurExtendTrialHistoryBean":[]},"userDefinedLabel":"Kishore 3","userRedesignationsRemaining":99999,"validationSetting":false,"validating":true,"licensedEntitlementSubTypeId":985,"licensedEntitlementSubType":"Default","auditInformation":null,"isNetwork":false,"personEntitlementId":1930043,"rollupEntitlementId":0,"licenseManagerType":"FLEX","licenseManagerTypeId":1720,"onDemand":{"status":"Disabled","statusId":1724,"mwAllowed":false,"customerOptIn":false,"entitlementEligible":false,"creditCardEligible":false,"userAccessDefault":false},"lockingTypes":{"lockingType":[{"name":{},"displayLabel":"Trial - Designated Computer","properties":{"property":["fileBased"]}}]}},{"id":"1928342","accessToActivationKeyDefault":"true","accessToDownloadsDefault":"true","accessToLoginNamedUserDefault":"false","accessToMatlabOnTheWebDefault":"false","activatable":true,"activationsRemaining":21,"activationTypeId":"187","activationType":"Designated Computer","displayLabel":"Trial - Designated Computer","allProductFIKApproval":false,"multipleReleaseLicenseFile":false,"allowActivationTypeUpdate":false,"computerRedesignationsRemaining":0,"computeLocationTypeId":1246,"computeLocation":"Desktop","controllingProduct":"ML","controllingProductSmsEndDate":"","countryCode":"","createdById":"fgorelik","createdDateTime":"2014-09-30 16:17:27","currentActivationKey":"","customerReleaseOverride":null,"distributorFirstName":"","distributorLastName":"","entitlementPolicyBean":{"id":"34","policyName":"Third Party Partner Training - TSUR","allowedActivationCount":"21","allowedAnnualMachineTransferCount":"0","allowedAnnualUserTransferCount":"99999","allowedAnnualProductTransferCount":"0","licensedEndUserRequired":"true","validationDefault":false,"validationDefaultOverridable":false,"licenseFileExpirationOverrideAllowed":false,"dcProcessCheckRequired":false,"maxLicensedEndUsers":"1","validationIntervalDays":30,"disassociateSetting":"None","associateByLicenseNumber":true,"leuSynchronizationRequired":false,"allowedSimultaneousSessionCount":0,"licenseManagementTypeUpdatable":false,"simultaneousMachineCountPerLeu":0,"profileAssociationType":"StudentAndProfessional","userLoginNameRequired":false,"displayStudentReminder":false,"autoAssociateLeu":false,"activateForOther":true,"accessToDownloadOnly":true,"emailDomain":"NotApplicable"},"entitlementStatusTypeId":"183","entitlementStatus":"Active Activation - Valid and has potential for use","entitlementTypeId":"288","entitlementType":"Temporary Software Usage Right","expirationDateOverridable":"false","firstActivationDate":"","groupLicenseId":"0","lastUpdatedById":"fgorelik","lastUpdatedDateTime":"2014-09-30 16:17:28","licenseNumber":"0","licenseDongleRequired":"false","licenseFileDefinitionId":"1","licenseFileDefinitionName":"Designated Computer","licenseFileExpirationOverrideDate":"","licenseFileExpirationDate":"","licenseOption":null,"licenseOptionDescription":"","licenseTerm":null,"licenseTermDescription":"","licenseUse":null,"licenseUseDescription":"","loginNamedUserAvailable":null,"mutable":"false","officeId":0,"opportunityId":"006e0000006sI50AAE","people":{"entitlementPersonBean":[]},"activationKeys":{"activationKeyBean":[]},"releases":{"entitlementReleaseBean":[{"passcodeVersionNumber":28,"shippedDate":"2012-09-11","name":"R2012b","products":{"entitlementProductBean":[]},"fik":"45085-06043-59816-13303"}]},"sector":"","trialExtensionCount":0,"trialReminder":"false","tsurType":"Trial","tsurTypeId":313,"tsurSubType":"3rd Party Training (Partner)","tsurSubTypeId":399,"tsurReleaseId":null,"tsurInitialExpirationDate":"2014-10-30","tsurExtendTrialHistory":{"tsurExtendTrialHistoryBean":[]},"userDefinedLabel":"Kishore 3","userRedesignationsRemaining":99999,"validationSetting":false,"validating":true,"licensedEntitlementSubTypeId":985,"licensedEntitlementSubType":"Default","auditInformation":null,"isNetwork":false,"personEntitlementId":1928342,"rollupEntitlementId":0,"licenseManagerType":"FLEX","licenseManagerTypeId":1720,"onDemand":{"status":"Disabled","statusId":1724,"mwAllowed":false,"customerOptIn":false,"entitlementEligible":false,"creditCardEligible":false,"userAccessDefault":false},"lockingTypes":{"lockingType":[{"name":{},"displayLabel":"Trial - Designated Computer","properties":{"property":["fileBased"]}}]}}]}</content><messages><messages><code>ENTITLEMENT_GET_SUCCESS</code><description>Entitlements successfuly retrieved</description><domain>RESPONSE_MSGS</domain><id>540</id><severity>2</severity></messages></messages><result>0</result></getEntitlementsReturn></getEntitlementsResponse></soapenv:Body></soapenv:Envelope>';
            res.setHeader('Content-Type', 'application/soap+xml');
            res.setBody(response);
            }
            else if(req.getBody().contains('<ser:getEntitlementPeople>')){

            String response='<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soapenv:Body><getEntitlementPeopleResponse xmlns="http://service.intactws.internal.mathworks.com"><getEntitlementPeopleReturn><content>{"summaryCount":2,"people":{"entitlementPersonBean":[{"role":"ADMIN","webProfileId":"453920","webProfileUserId":null,"firstName":"Laurie","lastName":"Pelletier","latinFirstName":"","latinLastName":"","emailAddress":"laurie_pelletier@bose.com","accountName":"Bose Corp","latinAccountName":"","department":"Engineering Systems","countryCode":"US","latinDepartment":"","roleId":"363","accessToActivationKeyOverride":"true","accessToDownloadOverride":"true","accessToLoginNamedUserOverride":"false","accessToMatlabOnTheWebOverride":"false","permissionList":["ActivateForOthers","CreateProfileForOthers","ActivationKeyAvailable","DownloadAvailable","DownloadOnlyAvailable","Activatable"],"entitlementId":1930282,"accessToOnDemandOverride":"false","createdDateTime":"2014-10-06 11:11:31"}]}}</content><messages /><result>0</result></getEntitlementPeopleReturn></getEntitlementPeopleResponse></soapenv:Body></soapenv:Envelope>';

            res.setHeader('Content-Type', 'application/soap+xml');
            res.setBody(response);
            }
            else{
             String response='<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soapenv:Body><getBusinessProcessTokenResponse xmlns="http://internal.mathworks.com/businessprocesstokenws/services"><getBusinessProcessTokenReturn><token>qu4e20cqt0fboi94qgedd5d838r81cdjrtizasugdosnxw</token><result>0</result></getBusinessProcessTokenReturn></getBusinessProcessTokenResponse></soapenv:Body></soapenv:Envelope>';
            res.setHeader('Content-Type', 'application/soap+xml');
            res.setBody(response);
            }
        res.setStatusCode(200);
        return res;
    }
}